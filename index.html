<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Amazeing - Emoji Puzzle Game</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåü</text></svg>">
</head>
<body data-theme="star-sky">
    <!-- Background Layer -->
    <div id="background-layer" class="background"></div>

    <!-- Main Container -->
    <div id="app" class="app-container">

        <!-- Header Section -->
        <header class="game-header">
            <div class="header-left">
                <span id="timer" class="timer">00:00</span>
            </div>
            <div class="header-center">
                <h1 id="level-name" class="level-name">Level 1</h1>
                <div id="theme-indicator" class="theme-indicator">
                    <span class="theme-emoji">üåü</span>
                    <span class="theme-name">Star Sky</span>
                </div>
            </div>
            <div class="header-right">
                <button id="menu-btn" class="icon-btn" aria-label="Menu">‚ò∞</button>
            </div>
        </header>

        <!-- Difficulty Options -->
        <div class="difficulty-options">
            <button class="difficulty-btn active" data-difficulty="easy">Easy</button>
            <button class="difficulty-btn" data-difficulty="medium">Medium</button>
            <button class="difficulty-btn" data-difficulty="hard">Hard</button>
            <button class="difficulty-btn" data-difficulty="expert">Expert</button>
            <button id="new-random-btn" class="new-random-btn" title="Generate New Puzzle">New</button>
        </div>

        <!-- Game Grid Container -->
        <main class="game-main">
            <!-- Pattern Preview -->
            <div id="pattern-preview" class="pattern-preview">
                <canvas id="preview-canvas" width="64" height="64"></canvas>
                <span class="preview-label">Goal</span>
            </div>

            <div class="grid-wrapper">
                <div id="grid-container" class="grid-container" data-size="6">
                    <!-- Grid cells generated by JavaScript -->
                </div>

                <!-- Canvas overlay for path rendering -->
                <canvas id="path-canvas" class="path-canvas"></canvas>

                <!-- Numbered points overlay -->
                <div id="points-overlay" class="points-overlay">
                    <!-- Points generated by JavaScript -->
                </div>
            </div>
        </main>

        <!-- Controls Section -->
        <footer class="game-controls">
            <button id="reset-btn" class="control-btn">
                <span class="btn-icon">üîÑ</span>
                <span class="btn-label">Reset</span>
            </button>
            <button id="undo-btn" class="control-btn">
                <span class="btn-icon">‚Ü©Ô∏è</span>
                <span class="btn-label">Undo</span>
            </button>
            <button id="hint-btn" class="control-btn">
                <span class="btn-icon">üí°</span>
                <span class="btn-label">Hint</span>
            </button>
            <button id="share-btn" class="control-btn">
                <span class="btn-icon">üì§</span>
                <span class="btn-label">Share</span>
            </button>
        </footer>
    </div>

    <!-- Modal Overlay -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <!-- Win Modal -->
        <div id="win-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Amazing! üéâ</h2>
                <div id="final-artwork" class="final-artwork"></div>
                <p id="win-stats" class="win-stats">Time: 00:00</p>
                <div class="modal-buttons">
                    <button id="next-level-btn" class="primary-btn">Next Level</button>
                    <button id="share-win-btn" class="secondary-btn">Share</button>
                </div>
            </div>
        </div>

        <!-- Menu Modal -->
        <div id="menu-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Menu</h2>
                <nav class="menu-nav">
                    <button id="continue-btn" class="menu-btn">Continue</button>
                    <button id="levels-btn" class="menu-btn">Select Level</button>
                    <button id="daily-btn" class="menu-btn">Daily Puzzle</button>
                    <button id="themes-btn" class="menu-btn">Themes</button>
                </nav>
                <button id="close-menu-btn" class="close-btn">‚úï</button>
            </div>
        </div>

        <!-- Level Select Modal -->
        <div id="levels-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Select Level</h2>
                <div class="pack-tabs">
                    <button class="pack-tab active" data-pack="0">Easy (6x6)</button>
                    <button class="pack-tab" data-pack="1">Medium (8x8)</button>
                    <button class="pack-tab" data-pack="2">Hard (10x10)</button>
                    <button class="pack-tab" data-pack="3">Expert (12x12)</button>
                </div>
                <div id="level-grid" class="level-grid">
                    <!-- Level buttons generated by JS -->
                </div>
                <button id="close-levels-btn" class="close-btn">‚úï</button>
            </div>
        </div>

        <!-- Themes Modal -->
        <div id="themes-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Themes</h2>
                <div id="theme-grid" class="theme-grid">
                    <button class="theme-btn active" data-theme="star-sky">
                        <span class="theme-preview">üåü</span>
                        <span>Star Sky</span>
                    </button>
                    <button class="theme-btn" data-theme="galaxy">
                        <span class="theme-preview">üåå</span>
                        <span>Galaxy</span>
                    </button>
                    <button class="theme-btn" data-theme="ship">
                        <span class="theme-preview">üö¢</span>
                        <span>Ship</span>
                    </button>
                    <button class="theme-btn" data-theme="rocket">
                        <span class="theme-preview">üöÄ</span>
                        <span>Rocket</span>
                    </button>
                    <button class="theme-btn" data-theme="heart">
                        <span class="theme-preview">‚ù§Ô∏è</span>
                        <span>Heart</span>
                    </button>
                    <button class="theme-btn" data-theme="neon-city">
                        <span class="theme-preview">üîµ</span>
                        <span>Neon City</span>
                    </button>
                </div>
                <button id="close-themes-btn" class="close-btn">‚úï</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
